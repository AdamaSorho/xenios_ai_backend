# Xenios AI Backend Configuration
# Copy this file to .env and fill in your values

# =============================================================================
# Environment
# =============================================================================
ENVIRONMENT=development  # development | staging | production
DEBUG=true

# =============================================================================
# Database (Supabase PostgreSQL)
# =============================================================================
# Get this from Supabase Dashboard > Settings > Database > Connection string
DATABASE_URL=postgresql://postgres:[PASSWORD]@db.[PROJECT-REF].supabase.co:5432/postgres

# =============================================================================
# Authentication
# =============================================================================
# Get this from Supabase Dashboard > Settings > API > JWT Secret
SUPABASE_JWT_SECRET=your-supabase-jwt-secret

# Generate a secure random key for backend-to-backend auth
# python -c "import secrets; print(secrets.token_urlsafe(32))"
XENIOS_BACKEND_API_KEY=generate-a-secure-key-here

# =============================================================================
# Redis
# =============================================================================
REDIS_URL=redis://localhost:6379/0

# =============================================================================
# LLM Providers
# =============================================================================
# OpenRouter (default) - Get this from https://openrouter.ai/keys
OPENROUTER_API_KEY=sk-or-v1-xxx

# Anthropic (direct Claude API) - Get this from https://console.anthropic.com
ANTHROPIC_API_KEY=sk-ant-xxx

# Default LLM provider: openrouter | anthropic
# Can be overridden per-request via X-LLM-Provider header
LLM_DEFAULT_PROVIDER=openrouter

# =============================================================================
# External Services
# =============================================================================
# Deepgram API for audio transcription (Spec 0003)
# Get this from https://console.deepgram.com
DEEPGRAM_API_KEY=your-deepgram-api-key

# =============================================================================
# Logging & Monitoring
# =============================================================================
LOG_LEVEL=INFO  # DEBUG | INFO | WARNING | ERROR

# Optional: Sentry for error tracking
SENTRY_DSN=

# =============================================================================
# CORS (comma-separated origins)
# =============================================================================
CORS_ORIGINS=http://localhost:3000,https://xenios.app

# =============================================================================
# Flower (Celery monitoring)
# =============================================================================
FLOWER_USER=admin
FLOWER_PASSWORD=change-this-password

# =============================================================================
# S3/R2 Storage (Document Extraction - Spec 0002)
# =============================================================================
# For Cloudflare R2: https://developers.cloudflare.com/r2/
# For AWS S3: Leave S3_ENDPOINT_URL empty
S3_ENDPOINT_URL=https://[ACCOUNT-ID].r2.cloudflarestorage.com
S3_BUCKET=xenios-extractions
S3_ACCESS_KEY_ID=your-access-key-id
S3_SECRET_ACCESS_KEY=your-secret-access-key
S3_REGION=auto  # Use 'auto' for R2, or specific region for S3

# =============================================================================
# Extraction Settings (Spec 0002)
# =============================================================================
EXTRACTION_MAX_FILE_SIZE_MB=50
# Optional: Webhook URL for extraction completion notifications
EXTRACTION_WEBHOOK_URL=

# =============================================================================
# Transcription Settings (Spec 0003)
# =============================================================================
TRANSCRIPTION_MAX_FILE_SIZE_MB=500
TRANSCRIPTION_MAX_DURATION_MINUTES=120
TRANSCRIPTION_MIN_DURATION_SECONDS=10
TRANSCRIPTION_S3_BUCKET=xenios-transcriptions
